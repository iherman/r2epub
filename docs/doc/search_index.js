(function () {
  window.DENO_DOC_SEARCH_INDEX = {"kind":"search","nodes":[{"id":"namespace_OCF","kind":[{"char":"c","kind":"Class","title":"Class"},{"char":"c","kind":"Class","title":"Class"}],"name":"OCF","file":".","doc":"Convenience class to export the internal OCF class for the package as a whole. Conversion methods or functions return an instance of this class, containing the generated EPUB content.","url":"././~/OCF.html","deprecated":false},{"id":"namespace_RespecToEPUB","kind":[{"char":"c","kind":"Class","title":"Class"},{"char":"c","kind":"Class","title":"Class"}],"name":"RespecToEPUB","file":".","doc":"Convenience class, to export the internal RespecToEPUB class for the package as a whole. (This is only useful if, for some reasons, the conversion is done starting with a DOM tree, using create_epub_from_dom. In general, convert should be used).This class is largely for internal use to the package, and the API user can mostly ignore its details.","url":"././~/RespecToEPUB.html","deprecated":false},{"id":"namespace_convert","kind":[{"char":"f","kind":"Function","title":"Function"}],"name":"convert","file":".","doc":"The top level entry in the package: convert a single Respec file, or a collection thereof, into an EPUB document.","url":"././~/convert.html","deprecated":false},{"id":"namespace_ERROR","kind":[{"char":"v","kind":"Variable","title":"Variable"}],"name":"ERROR","file":"cli","doc":"","url":"./cli/~/ERROR.html","deprecated":false},{"id":"namespace_cli","kind":[{"char":"f","kind":"Function","title":"Function"}],"name":"cli","file":"cli","doc":"CLI to the ReSpec to EPUB 3.4 conversion.It is a simple interpretation of the command line, a wrapper around [[create_epub]], and the output of the generated content to local directory.This function is automatically started when this module is used from a command line.","url":"./cli/~/cli.html","deprecated":false},{"id":"namespace_argument_schema","kind":[{"char":"v","kind":"Variable","title":"Variable"}],"name":"argument_schema","file":"lib/clib/args.ts","doc":"The schema itself...","url":"./lib/clib/args.ts/~/argument_schema.html","deprecated":false},{"id":"namespace_get_book_configuration","kind":[{"char":"f","kind":"Function","title":"Function"}],"name":"get_book_configuration","file":"lib/clib/args.ts","doc":"Validates the input JSON configuration using the JSON schema, and converts the result to the internal data structure.","url":"./lib/clib/args.ts/~/get_book_configuration.html","deprecated":false},{"id":"namespace_Chapter","kind":[{"char":"c","kind":"Class","title":"Class"}],"name":"Chapter","file":"lib/clib/chapter.ts","doc":"Wrapper around a single chapter. The main action is in the [[initialize]] method, which collects all the data and extracts additional data that are necessary elsewhere.","url":"./lib/clib/chapter.ts/~/Chapter.html","deprecated":false},{"id":"namespace_Chapter","kind":[{"char":"m","kind":"Method","title":"Method"}],"name":"Chapter.prototype.initialize","file":"lib/clib/chapter.ts","doc":"The real initialization must be done in a separate method and not in the constructor, because async actions are (heavily) involved...The method starts by running r2epub on the original arguments, and then uses the jszip methods (see the jszip documentation) to extract the content.The following items are extracted, and stored, from the chapter’s OCF:The list of all the data items to be transferred, together with their media types (as a list of [[ManifestItem]] structures);The list of editors;The publication date;The publication title;The navigation file’s content (as a text).","url":"./lib/clib/chapter.ts/~/Chapter.prototype.initialize.html","deprecated":false},{"id":"namespace_Chapter","kind":[{"char":"m","kind":"Method","title":"Method"}],"name":"Chapter.prototype.set_name","file":"lib/clib/chapter.ts","doc":"Internal function: the name of the manifest item must be altered when stored in the final book to avoid clashes","url":"./lib/clib/chapter.ts/~/Chapter.prototype.set_name.html","deprecated":false},{"id":"namespace_Chapter","kind":[{"char":"m","kind":"Method","title":"Method"}],"name":"Chapter.prototype.handle_cross_references","file":"lib/clib/chapter.ts","doc":"Convert the Overview.xhtml file by converting the possible mutual references to other chapters","url":"./lib/clib/chapter.ts/~/Chapter.prototype.handle_cross_references.html","deprecated":false},{"id":"namespace_Chapter","kind":[{"char":"m","kind":"Method","title":"Method"}],"name":"Chapter.prototype.store_manifest_items","file":"lib/clib/chapter.ts","doc":"Store all the manifest items in the book, represented by its target OCF. This is based on the list collected in [[initialize]].","url":"./lib/clib/chapter.ts/~/Chapter.prototype.store_manifest_items.html","deprecated":false},{"id":"namespace_Chapter","kind":[{"char":"m","kind":"Method","title":"Method"}],"name":"Chapter.prototype.date","file":"lib/clib/chapter.ts","doc":"The date of the chapter as a string.","url":"./lib/clib/chapter.ts/~/Chapter.prototype.date.html","deprecated":false},{"id":"namespace_Chapter","kind":[{"char":"m","kind":"Method","title":"Method"}],"name":"Chapter.prototype.editors","file":"lib/clib/chapter.ts","doc":"The list of editors as an array of strings.","url":"./lib/clib/chapter.ts/~/Chapter.prototype.editors.html","deprecated":false},{"id":"namespace_Chapter","kind":[{"char":"m","kind":"Method","title":"Method"}],"name":"Chapter.prototype.nav","file":"lib/clib/chapter.ts","doc":"The (HTML source) of the navigation file as a string.","url":"./lib/clib/chapter.ts/~/Chapter.prototype.nav.html","deprecated":false},{"id":"namespace_Chapter","kind":[{"char":"m","kind":"Method","title":"Method"}],"name":"Chapter.prototype.name","file":"lib/clib/chapter.ts","doc":"The chapter’s name as a string.","url":"./lib/clib/chapter.ts/~/Chapter.prototype.name.html","deprecated":false},{"id":"namespace_Chapter","kind":[{"char":"m","kind":"Method","title":"Method"}],"name":"Chapter.prototype.opf_items","file":"lib/clib/chapter.ts","doc":"The list of minimal manifest item information as an array of [[OPFManifestItem]] instances, necessary to build the new OPF content.","url":"./lib/clib/chapter.ts/~/Chapter.prototype.opf_items.html","deprecated":false},{"id":"namespace_Chapter","kind":[{"char":"m","kind":"Method","title":"Method"}],"name":"Chapter.prototype.non_linear_spine_items","file":"lib/clib/chapter.ts","doc":"The list of non-linear spine items as an array of strings (ie, the idref values), necessary to build the new OPF content.","url":"./lib/clib/chapter.ts/~/Chapter.prototype.non_linear_spine_items.html","deprecated":false},{"id":"namespace_Chapter","kind":[{"char":"m","kind":"Method","title":"Method"}],"name":"Chapter.prototype.chapter_name","file":"lib/clib/chapter.ts","doc":"The chapter’s name as a string.","url":"./lib/clib/chapter.ts/~/Chapter.prototype.chapter_name.html","deprecated":false},{"id":"namespace_Chapter","kind":[{"char":"m","kind":"Method","title":"Method"}],"name":"Chapter.prototype.title","file":"lib/clib/chapter.ts","doc":"The chapter’s title as a string.","url":"./lib/clib/chapter.ts/~/Chapter.prototype.title.html","deprecated":false},{"id":"namespace_Chapter","kind":[{"char":"m","kind":"Method","title":"Method"}],"name":"Chapter.prototype.identifier","file":"lib/clib/chapter.ts","doc":"The chapter’s identifier as a string.","url":"./lib/clib/chapter.ts/~/Chapter.prototype.identifier.html","deprecated":false},{"id":"namespace_Chapter","kind":[{"char":"m","kind":"Method","title":"Method"}],"name":"Chapter.prototype.first_chapter","file":"lib/clib/chapter.ts","doc":"Is this the first chapter?","url":"./lib/clib/chapter.ts/~/Chapter.prototype.first_chapter.html","deprecated":false},{"id":"namespace_Chapter","kind":[{"char":"m","kind":"Method","title":"Method"}],"name":"Chapter.prototype.wcag_conforms","file":"lib/clib/chapter.ts","doc":"Conforms to WCAG Level A","url":"./lib/clib/chapter.ts/~/Chapter.prototype.wcag_conforms.html","deprecated":false},{"id":"namespace_Chapter","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"Chapter.prototype._first_chapter","file":"lib/clib/chapter.ts","doc":"","url":"./lib/clib/chapter.ts/~/Chapter.prototype._first_chapter.html","deprecated":false},{"id":"namespace_Chapter","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"Chapter.prototype._url","file":"lib/clib/chapter.ts","doc":"","url":"./lib/clib/chapter.ts/~/Chapter.prototype._url.html","deprecated":false},{"id":"namespace_Chapter","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"Chapter.prototype._options","file":"lib/clib/chapter.ts","doc":"","url":"./lib/clib/chapter.ts/~/Chapter.prototype._options.html","deprecated":false},{"id":"namespace_Chapter","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"Chapter.prototype._ocf","file":"lib/clib/chapter.ts","doc":"","url":"./lib/clib/chapter.ts/~/Chapter.prototype._ocf.html","deprecated":false},{"id":"namespace_Chapter","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"Chapter.prototype._container","file":"lib/clib/chapter.ts","doc":"","url":"./lib/clib/chapter.ts/~/Chapter.prototype._container.html","deprecated":false},{"id":"namespace_Chapter","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"Chapter.prototype._manifest","file":"lib/clib/chapter.ts","doc":"","url":"./lib/clib/chapter.ts/~/Chapter.prototype._manifest.html","deprecated":false},{"id":"namespace_Chapter","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"Chapter.prototype._chapter_name","file":"lib/clib/chapter.ts","doc":"","url":"./lib/clib/chapter.ts/~/Chapter.prototype._chapter_name.html","deprecated":false},{"id":"namespace_Chapter","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"Chapter.prototype._title","file":"lib/clib/chapter.ts","doc":"","url":"./lib/clib/chapter.ts/~/Chapter.prototype._title.html","deprecated":false},{"id":"namespace_Chapter","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"Chapter.prototype._identifier","file":"lib/clib/chapter.ts","doc":"","url":"./lib/clib/chapter.ts/~/Chapter.prototype._identifier.html","deprecated":false},{"id":"namespace_Chapter","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"Chapter.prototype._editors","file":"lib/clib/chapter.ts","doc":"","url":"./lib/clib/chapter.ts/~/Chapter.prototype._editors.html","deprecated":false},{"id":"namespace_Chapter","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"Chapter.prototype._nav","file":"lib/clib/chapter.ts","doc":"","url":"./lib/clib/chapter.ts/~/Chapter.prototype._nav.html","deprecated":false},{"id":"namespace_Chapter","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"Chapter.prototype._date","file":"lib/clib/chapter.ts","doc":"","url":"./lib/clib/chapter.ts/~/Chapter.prototype._date.html","deprecated":false},{"id":"namespace_Chapter","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"Chapter.prototype._non_linear_spine_items","file":"lib/clib/chapter.ts","doc":"","url":"./lib/clib/chapter.ts/~/Chapter.prototype._non_linear_spine_items.html","deprecated":false},{"id":"namespace_Chapter","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"Chapter.prototype._wcag_conforms","file":"lib/clib/chapter.ts","doc":"","url":"./lib/clib/chapter.ts/~/Chapter.prototype._wcag_conforms.html","deprecated":false},{"id":"namespace_ManifestItem","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"ManifestItem.promise","file":"lib/clib/chapter.ts","doc":"","url":"./lib/clib/chapter.ts/~/ManifestItem.promise.html","deprecated":false},{"id":"namespace_ManifestItem","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"ManifestItem.text_content","file":"lib/clib/chapter.ts","doc":"","url":"./lib/clib/chapter.ts/~/ManifestItem.text_content.html","deprecated":false},{"id":"namespace_ManifestItem","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"ManifestItem.content","file":"lib/clib/chapter.ts","doc":"","url":"./lib/clib/chapter.ts/~/ManifestItem.content.html","deprecated":false},{"id":"namespace_OPFManifestItem","kind":[{"char":"I","kind":"Interface","title":"Interface"}],"name":"OPFManifestItem","file":"lib/clib/chapter.ts","doc":"Data needed for the creation of the package file for single constituent manifest item in the chapter (i.e., an individual file stored in the zip file).","url":"./lib/clib/chapter.ts/~/OPFManifestItem.html","deprecated":false},{"id":"namespace_OPFManifestItem","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"OPFManifestItem.href","file":"lib/clib/chapter.ts","doc":"","url":"./lib/clib/chapter.ts/~/OPFManifestItem.href.html","deprecated":false},{"id":"namespace_OPFManifestItem","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"OPFManifestItem.media_type","file":"lib/clib/chapter.ts","doc":"","url":"./lib/clib/chapter.ts/~/OPFManifestItem.media_type.html","deprecated":false},{"id":"namespace_OPFManifestItem","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"OPFManifestItem.id","file":"lib/clib/chapter.ts","doc":"","url":"./lib/clib/chapter.ts/~/OPFManifestItem.id.html","deprecated":false},{"id":"namespace_OPFManifestItem","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"OPFManifestItem.properties","file":"lib/clib/chapter.ts","doc":"","url":"./lib/clib/chapter.ts/~/OPFManifestItem.properties.html","deprecated":false},{"id":"namespace_never_transfer","kind":[{"char":"v","kind":"Variable","title":"Variable"}],"name":"never_transfer","file":"lib/clib/chapter.ts","doc":"These resources are present in the chapter's OCF, but should be regenerated from scratch for the final book. This means that this particular resource should not be transferred.","url":"./lib/clib/chapter.ts/~/never_transfer.html","deprecated":false},{"id":"namespace_transfer_once","kind":[{"char":"v","kind":"Variable","title":"Variable"}],"name":"transfer_once","file":"lib/clib/chapter.ts","doc":"These are common items for all individual book generated by r2epub, and used by the cover page. This must be transferred to the final book, but only once.","url":"./lib/clib/chapter.ts/~/transfer_once.html","deprecated":false},{"id":"namespace_ChapterConfiguration","kind":[{"char":"I","kind":"Interface","title":"Interface"}],"name":"ChapterConfiguration","file":"lib/clib/convert.ts","doc":"Arguments used by the internal conversion functions; just combining the possible options with the URL for a more compact handling.","url":"./lib/clib/convert.ts/~/ChapterConfiguration.html","deprecated":false},{"id":"namespace_ChapterConfiguration","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"ChapterConfiguration.url","file":"lib/clib/convert.ts","doc":"The URL of the relevant HTML or JSON file. If the latter, the JSON file must be a configuration file for a full Collection, and the other fields are ignored.","url":"./lib/clib/convert.ts/~/ChapterConfiguration.url.html","deprecated":false},{"id":"namespace_Collection","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"Collection.title","file":"lib/clib/convert.ts","doc":"Title of the publication.","url":"./lib/clib/convert.ts/~/Collection.title.html","deprecated":false},{"id":"namespace_Collection","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"Collection.name","file":"lib/clib/convert.ts","doc":"\"Short\" name, used as an identifier and as the base name for the final EPUB file.","url":"./lib/clib/convert.ts/~/Collection.name.html","deprecated":false},{"id":"namespace_Collection","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"Collection.editors","file":"lib/clib/convert.ts","doc":"List of editors: it is a concatenation of the editors of the individual chapters, with duplicate names removed.","url":"./lib/clib/convert.ts/~/Collection.editors.html","deprecated":false},{"id":"namespace_Collection","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"Collection.date","file":"lib/clib/convert.ts","doc":"Date of publication: the most recent date among the constituent chapter.","url":"./lib/clib/convert.ts/~/Collection.date.html","deprecated":false},{"id":"namespace_Collection","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"Collection.ocf","file":"lib/clib/convert.ts","doc":"The OCF instance of the target book.","url":"./lib/clib/convert.ts/~/Collection.ocf.html","deprecated":false},{"id":"namespace_Collection","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"Collection.chapters","file":"lib/clib/convert.ts","doc":"Representations of the individual chapters.","url":"./lib/clib/convert.ts/~/Collection.chapters.html","deprecated":false},{"id":"namespace_CollectionConfiguration","kind":[{"char":"I","kind":"Interface","title":"Interface"}],"name":"CollectionConfiguration","file":"lib/clib/convert.ts","doc":"Type definition for the collection data the user has to provide. It is, essentially, the Typescript equivalent of the JSON configuration file's schema.","url":"./lib/clib/convert.ts/~/CollectionConfiguration.html","deprecated":false},{"id":"namespace_CollectionConfiguration","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"CollectionConfiguration.name","file":"lib/clib/convert.ts","doc":"Title of the publication.","url":"./lib/clib/convert.ts/~/CollectionConfiguration.name.html","deprecated":false},{"id":"namespace_CollectionConfiguration","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"CollectionConfiguration.id","file":"lib/clib/convert.ts","doc":"\"Short\" name, used as an identifier and as the base name for the final EPUB file.","url":"./lib/clib/convert.ts/~/CollectionConfiguration.id.html","deprecated":false},{"id":"namespace_CollectionConfiguration","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"CollectionConfiguration.readingOrder","file":"lib/clib/convert.ts","doc":"Chapter description: url, whether respec should be used, and possible respec arguments. See the [[Options]] for some further details).","url":"./lib/clib/convert.ts/~/CollectionConfiguration.readingOrder.html","deprecated":false},{"id":"namespace_create_epub","kind":[{"char":"f","kind":"Function","title":"Function"}],"name":"create_epub","file":"lib/clib/convert.ts","doc":"Creation of an OCF instance for the final book.The main processing steps are:Convert the user JSON configuration to the internal data structure (see [[get_book_configuration]]) and collect the data for the output target (see [[generate_book_data]]);Create (and store in the target’s OCF) the package file (see [[create_opf]]);Create (and store in the target’s OCF) the title page (see create_title_page);Create (and store in the target’s OCF) the navigation file for the whole book (see [[create_nav_page]]);Collect, from each [[Chapter]] the real content from the chapter’s OCF and copy it to the target’s OCF (with modified file path values).","url":"./lib/clib/convert.ts/~/create_epub.html","deprecated":false},{"id":"namespace_generate_book_data","kind":[{"char":"f","kind":"Function","title":"Function"}],"name":"generate_book_data","file":"lib/clib/convert.ts","doc":"Creation of the real book data. The method runs a conversion for a single document on all chapters, creates the relevant [[Chapter]] instances, and retrieves some book level data to be used in subsequent steps.","url":"./lib/clib/convert.ts/~/generate_book_data.html","deprecated":false},{"id":"namespace_create_nav_page","kind":[{"char":"f","kind":"Function","title":"Function"}],"name":"create_nav_page","file":"lib/clib/nav.ts","doc":"Create the HTML navigation page.The function gathers the real content of the chapters’ navigation pages, extracts real TOC portions and puts all of them together as one large TOC structure. The result is added to a textual HTML template.Note that the links to the real content must be modified on the fly, because the original chapters are all put into a separate subdirectory.","url":"./lib/clib/nav.ts/~/create_nav_page.html","deprecated":false},{"id":"namespace_nav","kind":[{"char":"v","kind":"Variable","title":"Variable"}],"name":"nav","file":"lib/clib/nav.ts","doc":"Template of the XHTML file","url":"./lib/clib/nav.ts/~/nav.html","deprecated":false},{"id":"namespace_create_opf","kind":[{"char":"f","kind":"Function","title":"Function"}],"name":"create_opf","file":"lib/clib/opf.ts","doc":"Creation of the of the Package file for a collection, per the EPUB 3 Package Document Specification. See also the PackageWrapper documentation.The methodStores the stable files like title and nav in the package;Collects the dates and editors from the book and adds that to the package;Collects the manifest item data for each package and adds it to the new package;Adds the manifest items, the linear spine items, and the collections.Adds the non-linear spine items.Sets the wcag conformance if all chapters are conformNote that the internal structure of the final book, reflected in the modified manifest items, means putting each chapter into its own subdirectory, named after the chapter’s short name.","url":"./lib/clib/opf.ts/~/create_opf.html","deprecated":false},{"id":"namespace_CORS_headers","kind":[{"char":"v","kind":"Variable","title":"Variable"}],"name":"CORS_headers","file":"lib/common.ts","doc":"CORS headers to be added to the server response","url":"./lib/common.ts/~/CORS_headers.html","deprecated":false},{"id":"namespace_CORS_headers","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"CORS_headers.Access-Control-Allow-Origin","file":"lib/common.ts","doc":"","url":"./lib/common.ts/~/CORS_headers.Access-Control-Allow-Origin.html","deprecated":false},{"id":"namespace_CORS_headers","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"CORS_headers.Access-Control-Allow-Methods","file":"lib/common.ts","doc":"","url":"./lib/common.ts/~/CORS_headers.Access-Control-Allow-Methods.html","deprecated":false},{"id":"namespace_CORS_headers","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"CORS_headers.Access-Control-Allow-Headers","file":"lib/common.ts","doc":"","url":"./lib/common.ts/~/CORS_headers.Access-Control-Allow-Headers.html","deprecated":false},{"id":"namespace_CORS_headers","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"CORS_headers.Access-Control-Expose-Headers","file":"lib/common.ts","doc":"","url":"./lib/common.ts/~/CORS_headers.Access-Control-Expose-Headers.html","deprecated":false},{"id":"namespace_ConfigOptions","kind":[{"char":"I","kind":"Interface","title":"Interface"}],"name":"ConfigOptions","file":"lib/common.ts","doc":"Config options, to be used as part of the arguments in [[Options]] to overwrite the configuration options of ReSpec.","url":"./lib/common.ts/~/ConfigOptions.html","deprecated":false},{"id":"namespace_ENV_MODIFIED_FILE_LOCATION","kind":[{"char":"v","kind":"Variable","title":"Variable"},{"char":"v","kind":"Variable","title":"Variable"}],"name":"ENV_MODIFIED_FILE_LOCATION","file":"lib/common.ts","doc":"Environmental variable name for the location of external copies of some css and image files","url":"./lib/common.ts/~/ENV_MODIFIED_FILE_LOCATION.html","deprecated":false},{"id":"namespace_Environment","kind":[{"char":"E","kind":"Enum","title":"Enum"}],"name":"Environment","file":"lib/common.ts","doc":"","url":"./lib/common.ts/~/Environment.html","deprecated":false},{"id":"namespace_MediaType","kind":[{"char":"I","kind":"Interface","title":"Interface"}],"name":"MediaType","file":"lib/common.ts","doc":"","url":"./lib/common.ts/~/MediaType.html","deprecated":false},{"id":"namespace_Options","kind":[{"char":"I","kind":"Interface","title":"Interface"},{"char":"I","kind":"Interface","title":"Interface"}],"name":"Options","file":"lib/common.ts","doc":"Options provided by the user if and when the source has to be pre-processed via ReSpec.The original content file has to be pre-processed via the W3C spec generator service before further processing to convert the ReSpec source first. If that is the case (see [[Options.respec]]), it is also possible to set some of the ReSpec configuration options, overwriting the values set in the config entry of the original file. The possible ReSpec options to be set are publishDate, specStatus, addSectionLinks, and maxTocLevel. See the ReSpec editor's guide for details.","url":"./lib/common.ts/~/Options.html","deprecated":false},{"id":"namespace_Options","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"Options.respec","file":"lib/common.ts","doc":"Is the source in ReSpec?","url":"./lib/common.ts/~/Options.respec.html","deprecated":false},{"id":"namespace_Options","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"Options.config","file":"lib/common.ts","doc":"Collection of respec config options, to be used with the spec generator (if applicable).","url":"./lib/common.ts/~/Options.config.html","deprecated":false},{"id":"namespace_Options","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"Options.respec","file":"lib/common.ts","doc":"Is the source in ReSpec?","url":"./lib/common.ts/~/Options.respec.html","deprecated":false},{"id":"namespace_Options","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"Options.config","file":"lib/common.ts","doc":"Collection of respec config options, to be used with the spec generator (if applicable).","url":"./lib/common.ts/~/Options.config.html","deprecated":false},{"id":"namespace_TR_css_files","kind":[{"char":"v","kind":"Variable","title":"Variable"}],"name":"TR_css_files","file":"lib/common.ts","doc":"Base URL for the official W3C css files (only the non-SVG ones are used directly).","url":"./lib/common.ts/~/TR_css_files.html","deprecated":false},{"id":"namespace_TR_logo_files","kind":[{"char":"v","kind":"Variable","title":"Variable"}],"name":"TR_logo_files","file":"lib/common.ts","doc":"Base URL for the official W3C logos (only the non-SVG ones are used directly).","url":"./lib/common.ts/~/TR_logo_files.html","deprecated":false},{"id":"namespace_W3C_icons","kind":[{"char":"v","kind":"Variable","title":"Variable"}],"name":"W3C_icons","file":"lib/common.ts","doc":"Generic ICON directory on the W3C site","url":"./lib/common.ts/~/W3C_icons.html","deprecated":false},{"id":"namespace_acceptable_url_endings","kind":[{"char":"v","kind":"Variable","title":"Variable"}],"name":"acceptable_url_endings","file":"lib/common.ts","doc":"Acceptable endings for document URL-s. We try to avoid cases when the relative URL calculations go wrong","url":"./lib/common.ts/~/acceptable_url_endings.html","deprecated":false},{"id":"namespace_allow_headers","kind":[{"char":"v","kind":"Variable","title":"Variable"}],"name":"allow_headers","file":"lib/common.ts","doc":"","url":"./lib/common.ts/~/allow_headers.html","deprecated":false},{"id":"namespace_allow_methods","kind":[{"char":"v","kind":"Variable","title":"Variable"}],"name":"allow_methods","file":"lib/common.ts","doc":"","url":"./lib/common.ts/~/allow_methods.html","deprecated":false},{"id":"namespace_entity_codes","kind":[{"char":"v","kind":"Variable","title":"Variable"}],"name":"entity_codes","file":"lib/common.ts","doc":"Entity/code pairs: the XHTML conversion is supposed to remove the XML entities (if used) to their code alternatives.The table is not exhaustive, of course, but contains the most frequently used characters in specifications.","url":"./lib/common.ts/~/entity_codes.html","deprecated":false},{"id":"namespace_environment","kind":[{"char":"v","kind":"Variable","title":"Variable"}],"name":"environment","file":"lib/common.ts","doc":"Flag to decide whether the code runs in a browser, in Deno, or in node.js.","url":"./lib/common.ts/~/environment.html","deprecated":false},{"id":"namespace_expose_headers","kind":[{"char":"v","kind":"Variable","title":"Variable"}],"name":"expose_headers","file":"lib/common.ts","doc":"","url":"./lib/common.ts/~/expose_headers.html","deprecated":false},{"id":"namespace_finalize_style_constants","kind":[{"char":"f","kind":"Function","title":"Function"}],"name":"finalize_style_constants","file":"lib/common.ts","doc":"","url":"./lib/common.ts/~/finalize_style_constants.html","deprecated":false},{"id":"namespace_fixup_js","kind":[{"char":"v","kind":"Variable","title":"Variable"}],"name":"fixup_js","file":"lib/common.ts","doc":"Generic 'fixup' script (used for warnings for rescinded or obsolete versions).","url":"./lib/common.ts/~/fixup_js.html","deprecated":false},{"id":"namespace_invalid_host_names","kind":[{"char":"v","kind":"Variable","title":"Variable"}],"name":"invalid_host_names","file":"lib/common.ts","doc":"Invalid host names (essentially \"localhost\" and friends); unless explicitly set in the environment, these are considered to be unsafe. This is important for server deployment: servers should never accept these host names","url":"./lib/common.ts/~/invalid_host_names.html","deprecated":false},{"id":"namespace_local_icons","kind":[{"char":"v","kind":"Variable","title":"Variable"}],"name":"local_icons","file":"lib/common.ts","doc":"","url":"./lib/common.ts/~/local_icons.html","deprecated":false},{"id":"namespace_local_port_number","kind":[{"char":"v","kind":"Variable","title":"Variable"}],"name":"local_port_number","file":"lib/common.ts","doc":"Default port number for the server locally. Set to the default HTTP port number; the environment variable PORT may, however, overwrite this for a server.","url":"./lib/common.ts/~/local_port_number.html","deprecated":false},{"id":"namespace_local_style_files","kind":[{"char":"v","kind":"Variable","title":"Variable"}],"name":"local_style_files","file":"lib/common.ts","doc":"Local (relative) URL for styles and logos","url":"./lib/common.ts/~/local_style_files.html","deprecated":false},{"id":"namespace_media_types","kind":[{"char":"v","kind":"Variable","title":"Variable"}],"name":"media_types","file":"lib/common.ts","doc":"Various media types used in the code.","url":"./lib/common.ts/~/media_types.html","deprecated":false},{"id":"namespace_modified_epub_files","kind":[{"char":"v","kind":"Variable","title":"Variable"}],"name":"modified_epub_files","file":"lib/common.ts","doc":"Base URL for the W3C files (like base.css, logos in SVG format) modified for EPUB.","url":"./lib/common.ts/~/modified_epub_files.html","deprecated":false},{"id":"namespace_process_2021_date","kind":[{"char":"v","kind":"Variable","title":"Variable"}],"name":"process_2021_date","file":"lib/common.ts","doc":"Cut-off date for the publication process change","url":"./lib/common.ts/~/process_2021_date.html","deprecated":false},{"id":"namespace_process_version","kind":[{"char":"v","kind":"Variable","title":"Variable"}],"name":"process_version","file":"lib/common.ts","doc":"Process version being used","url":"./lib/common.ts/~/process_version.html","deprecated":false},{"id":"namespace_spec_generator","kind":[{"char":"v","kind":"Variable","title":"Variable"}],"name":"spec_generator","file":"lib/common.ts","doc":"URL of the spec generator service, used if the source has to be transformed via respec first.","url":"./lib/common.ts/~/spec_generator.html","deprecated":false},{"id":"namespace_spec_status_values","kind":[{"char":"v","kind":"Variable","title":"Variable"},{"char":"v","kind":"Variable","title":"Variable"}],"name":"spec_status_values","file":"lib/common.ts","doc":"Valid Spec Status values","url":"./lib/common.ts/~/spec_status_values.html","deprecated":false},{"id":"namespace_text_content","kind":[{"char":"v","kind":"Variable","title":"Variable"}],"name":"text_content","file":"lib/common.ts","doc":"These media types refer to textual content, no reason to bother about streaming when fetching them...","url":"./lib/common.ts/~/text_content.html","deprecated":false},{"id":"namespace_tr_epub_css","kind":[{"char":"v","kind":"Variable","title":"Variable"}],"name":"tr_epub_css","file":"lib/common.ts","doc":"Extra CSS file for EPUB content; mainly used to adapt and, possibly, to compensate the effects of the main CSS file. The features areDue to the problems with Apple Books, the target DOM is modified by adding an extra div element, which carries the padding statements. Books does not understand a padding and margin on the body element, hence this addition...A number of page break control added to header elements, definition lists, or figure elements (even if, at this time, not many reading systems really honor these...)The \"outdated\" warning boxes are stuck to the bottom, instead coming up with interactionThe table of content, as generated into the file, is removed (via a display attribute); its content is put into a separate navigation file used by the reading system.","url":"./lib/common.ts/~/tr_epub_css.html","deprecated":false},{"id":"namespace_wcag_checked","kind":[{"char":"v","kind":"Variable","title":"Variable"}],"name":"wcag_checked","file":"lib/common.ts","doc":"Document types that are supposed to be WCAG A level due to the W3C publication check.","url":"./lib/common.ts/~/wcag_checked.html","deprecated":false},{"id":"namespace_Global","kind":[{"char":"I","kind":"Interface","title":"Interface"}],"name":"Global","file":"lib/convert.ts","doc":"Interface of the \"Global\" data, to be used by various utilities","url":"./lib/convert.ts/~/Global.html","deprecated":false},{"id":"namespace_Global","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"Global.document_url","file":"lib/convert.ts","doc":"The URL of the document to be processed","url":"./lib/convert.ts/~/Global.document_url.html","deprecated":false},{"id":"namespace_Global","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"Global.dom","file":"lib/convert.ts","doc":"The DOM element, as returned from parsing","url":"./lib/convert.ts/~/Global.dom.html","deprecated":false},{"id":"namespace_Global","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"Global.html_element","file":"lib/convert.ts","doc":"The DOM HTML element of the main document","url":"./lib/convert.ts/~/Global.html_element.html","deprecated":false},{"id":"namespace_Global","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"Global.config","file":"lib/convert.ts","doc":"The  initial config object, originally filled by the user (respec puts a copy of this object, as JSON, into the header of the generated content.","url":"./lib/convert.ts/~/Global.config.html","deprecated":false},{"id":"namespace_Global","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"Global.process_version","file":"lib/convert.ts","doc":"Process version used to generate this file. The possible values are 2016 and 2021","url":"./lib/convert.ts/~/Global.process_version.html","deprecated":false},{"id":"namespace_Global","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"Global.trace","file":"lib/convert.ts","doc":"[Debug] Whether trace information should be printed to the console","url":"./lib/convert.ts/~/Global.trace.html","deprecated":false},{"id":"namespace_Global","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"Global.package","file":"lib/convert.ts","doc":"[Debug] Whether the opf instance should be should be printed to the console instead of generating an EPUB file","url":"./lib/convert.ts/~/Global.package.html","deprecated":false},{"id":"namespace_Global","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"Global.opf_content","file":"lib/convert.ts","doc":"The class used for the generation of the EPUB opf file","url":"./lib/convert.ts/~/Global.opf_content.html","deprecated":false},{"id":"namespace_Global","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"Global.resources","file":"lib/convert.ts","doc":"List of extra resources, to be added to the opf file and into the final EPUB file. The main role of the [[create_epub_from_dom]] function is to collect all relevant resources; once done, this array is used to generate the final package.opf file as well as to collect the resources themselves and add them to the final epub file.","url":"./lib/convert.ts/~/Global.resources.html","deprecated":false},{"id":"namespace_LocalLinks","kind":[{"char":"I","kind":"Interface","title":"Interface"}],"name":"LocalLinks","file":"lib/convert.ts","doc":"Interface for the HTML DOM elements, to be considered for possible internal references.","url":"./lib/convert.ts/~/LocalLinks.html","deprecated":false},{"id":"namespace_LocalLinks","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"LocalLinks.query","file":"lib/convert.ts","doc":"CSS selector to locate the right DOM elements","url":"./lib/convert.ts/~/LocalLinks.query.html","deprecated":false},{"id":"namespace_LocalLinks","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"LocalLinks.attr","file":"lib/convert.ts","doc":"Attribute name to extract the resource URL","url":"./lib/convert.ts/~/LocalLinks.attr.html","deprecated":false},{"id":"namespace_ResourceRef","kind":[{"char":"I","kind":"Interface","title":"Interface"}],"name":"ResourceRef","file":"lib/convert.ts","doc":"Interface for the resources that, eventually, should be added to the EPUB file","url":"./lib/convert.ts/~/ResourceRef.html","deprecated":false},{"id":"namespace_ResourceRef","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"ResourceRef.relative_url","file":"lib/convert.ts","doc":"The URL to be used within the EPUB; relative to the top of the file","url":"./lib/convert.ts/~/ResourceRef.relative_url.html","deprecated":false},{"id":"namespace_ResourceRef","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"ResourceRef.media_type","file":"lib/convert.ts","doc":"Media type of the resource; this must be added to the package manifest entry","url":"./lib/convert.ts/~/ResourceRef.media_type.html","deprecated":false},{"id":"namespace_ResourceRef","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"ResourceRef.absolute_url","file":"lib/convert.ts","doc":"URL of the resource in case it must be fetched","url":"./lib/convert.ts/~/ResourceRef.absolute_url.html","deprecated":false},{"id":"namespace_ResourceRef","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"ResourceRef.text_content","file":"lib/convert.ts","doc":"Content of the resource in case it is generated by this program","url":"./lib/convert.ts/~/ResourceRef.text_content.html","deprecated":false},{"id":"namespace_ResourceRef","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"ResourceRef.id","file":"lib/convert.ts","doc":"The item must have a fixed id, rather than a generated one","url":"./lib/convert.ts/~/ResourceRef.id.html","deprecated":false},{"id":"namespace_ResourceRef","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"ResourceRef.properties","file":"lib/convert.ts","doc":"Extra properties, defined by the package specification, to be added to the entry","url":"./lib/convert.ts/~/ResourceRef.properties.html","deprecated":false},{"id":"namespace_ResourceRef","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"ResourceRef.add_to_spine","file":"lib/convert.ts","doc":"Flag whether the resource reference should also be added to the spine with a 'linear=no' attribute","url":"./lib/convert.ts/~/ResourceRef.add_to_spine.html","deprecated":false},{"id":"namespace_RespecToEPUB","kind":[{"char":"m","kind":"Method","title":"Method"}],"name":"RespecToEPUB.prototype.create_epub","file":"lib/convert.ts","doc":"Create an EPUB 3, ie, an OCF file from the original contentThis function is a wrapper around [[create_epub_from_dom]]:Creates the DOM, which means, possibly, the original content is ran through the respec processor (if necessary).Calls [[create_epub_from_dom]] to generate the OCF content.\"Finalizes\" the OCF content, i.e., dump everything to a file.","url":"./lib/convert.ts/~/RespecToEPUB.prototype.create_epub.html","deprecated":false},{"id":"namespace_RespecToEPUB","kind":[{"char":"m","kind":"Method","title":"Method"}],"name":"RespecToEPUB.prototype.create_epub_from_dom","file":"lib/convert.ts","doc":"Create an OCF instance from DOM representing the original content.Gather all the global information ([[Global]]).Add the basic metadata (authors, dates) to the opf file.Collect all the resources (see [[resource_references]]); the relative urls and the media types are collected in a global structure, to be added to the EPUB file and the opf file later.Add the reference to a W3C logo.Add the reference to the generic fixup script.Add some of the global W3C CSS files, and auxiliary image files.Create a title page.Create a cover image.Create a nav file.Main resource (i.e., Overview.xhtml) entry, with relevant properties.Finalize the package file based on the collected resources in [[Global.resources]].Download all resources into the EPUB file.All the resource entries are first collected in the in a [[Global.resources]] array, to be then added to the package.opf file as well as to download the resources into the final epub result (see the last two steps above).","url":"./lib/convert.ts/~/RespecToEPUB.prototype.create_epub_from_dom.html","deprecated":false},{"id":"namespace_RespecToEPUB","kind":[{"char":"m","kind":"Method","title":"Method"}],"name":"RespecToEPUB.prototype.get_extra_resources","file":"lib/convert.ts","doc":"Collect the references to the extra resources, to be added to the EPUB file as well as the package opf file. It relies on searching through the HTML source file, based on the query patterns given in [[resource_references]].The media type of all entries are established by issuing a HEAD request to the respective resource.","url":"./lib/convert.ts/~/RespecToEPUB.prototype.get_extra_resources.html","deprecated":false},{"id":"namespace_RespecToEPUB","kind":[{"char":"m","kind":"Method","title":"Method"}],"name":"RespecToEPUB.prototype.generate_epub","file":"lib/convert.ts","doc":"Create the final epub file (ie, an OCF instance): download all resources, if applicable, add them all, as well as the generated content (package file, nav file, the original content file, etc.) to an OCF instance.The generated epub file name is shortName.epub.","url":"./lib/convert.ts/~/RespecToEPUB.prototype.generate_epub.html","deprecated":false},{"id":"namespace_RespecToEPUB","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"RespecToEPUB.prototype.resource_references","file":"lib/convert.ts","doc":"Arrays of query/attribute pairs that may refer to a resource to be collected:image, audio, and video, elementsa elementslinks to stylesheets and scriptsobject elements","url":"./lib/convert.ts/~/RespecToEPUB.prototype.resource_references.html","deprecated":false},{"id":"namespace_RespecToEPUB","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"RespecToEPUB.prototype.global","file":"lib/convert.ts","doc":"","url":"./lib/convert.ts/~/RespecToEPUB.prototype.global.html","deprecated":false},{"id":"namespace_RespecToEPUB","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"RespecToEPUB.prototype.global_url","file":"lib/convert.ts","doc":"","url":"./lib/convert.ts/~/RespecToEPUB.prototype.global_url.html","deprecated":false},{"id":"namespace_zip","kind":[{"char":"f","kind":"Function","title":"Function"}],"name":"zip","file":"lib/convert.ts","doc":"","url":"./lib/convert.ts/~/zip.html","deprecated":false},{"id":"namespace_cover_svg","kind":[{"char":"v","kind":"Variable","title":"Variable"}],"name":"cover_svg","file":"lib/cover.ts","doc":"The SVG template to be used for the cover image.","url":"./lib/cover.ts/~/cover_svg.html","deprecated":false},{"id":"namespace_create_cover_image","kind":[{"char":"f","kind":"Function","title":"Function"},{"char":"f","kind":"Function","title":"Function"}],"name":"create_cover_image","file":"lib/cover.ts","doc":"Create the cover image: it is an SVG file with title, the type of the document, date, and a W3C Logo.","url":"./lib/cover.ts/~/create_cover_image.html","deprecated":false},{"id":"namespace_background_template","kind":[{"char":"v","kind":"Variable","title":"Variable"}],"name":"background_template","file":"lib/css2016.ts","doc":"The basic background css template","url":"./lib/css2016.ts/~/background_template.html","deprecated":false},{"id":"namespace_cg_draft_template","kind":[{"char":"v","kind":"Variable","title":"Variable"}],"name":"cg_draft_template","file":"lib/css2016.ts","doc":"Template used for CG draft documents. The logo behavior is different (it takes more space) and it uses the common watermark","url":"./lib/css2016.ts/~/cg_draft_template.html","deprecated":false},{"id":"namespace_extract_css","kind":[{"char":"f","kind":"Function","title":"Function"},{"char":"f","kind":"Function","title":"Function"}],"name":"extract_css","file":"lib/css2016.ts","doc":"Extract/add the right CSS references and gathers all resources (logo files, watermark image, etc.) to be added to the overall set of resources in the final book. Note that the HTML DOM of the main file is modified on the fly:The reference to the core CSS is changed to base.css.The background/watermark handling is stored in a separate, extra CSS file, whose reference is added to the document.","url":"./lib/css2016.ts/~/extract_css.html","deprecated":false},{"id":"namespace_specStatus_css","kind":[{"char":"v","kind":"Variable","title":"Variable"}],"name":"specStatus_css","file":"lib/css2016.ts","doc":"Mapping from specStatus to its relevant description for the cases when a simple, automatic mapping is not possible. See [[specStatus_css_mappings]] for the definition of the terms.Note that the following spec status values do not have an entry (nor do they appear in [[specStatus_simple]]): base, BG-DRAFT, BG-FINAL, and CG-FINAL. This is deliberate: for the BG/CG documents the TR style has a big logo on the left at the top of the TOC column, something that is unnecessary for the EPUB case where that TOC column is non-existent altogether; on the other hand, it leads to a narrower content that is detrimental in many reading systems. (CG-DRAFT has a watermark, hence its presence.) As for the base` value, there is no logo or other style addition altogether.","url":"./lib/css2016.ts/~/specStatus_css.html","deprecated":false},{"id":"namespace_specStatus_css_mappings","kind":[{"char":"I","kind":"Interface","title":"Interface"}],"name":"specStatus_css_mappings","file":"lib/css2016.ts","doc":"Interface for special cases, ie, when the specStatus value does not provide all information…","url":"./lib/css2016.ts/~/specStatus_css_mappings.html","deprecated":false},{"id":"namespace_specStatus_css_mappings","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"specStatus_css_mappings.watermark","file":"lib/css2016.ts","doc":"Is there a watermark?","url":"./lib/css2016.ts/~/specStatus_css_mappings.watermark.html","deprecated":false},{"id":"namespace_specStatus_css_mappings","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"specStatus_css_mappings.logo_name","file":"lib/css2016.ts","doc":"'name' (filename) to be used for the logo, e.g., WD, REC, etc.","url":"./lib/css2016.ts/~/specStatus_css_mappings.logo_name.html","deprecated":false},{"id":"namespace_specStatus_css_mappings","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"specStatus_css_mappings.logo_media_type","file":"lib/css2016.ts","doc":"Media type of the logo. Usually SVG, but not always; if missing, image/svg is used.","url":"./lib/css2016.ts/~/specStatus_css_mappings.logo_media_type.html","deprecated":false},{"id":"namespace_specStatus_css_mappings","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"specStatus_css_mappings.special_template","file":"lib/css2016.ts","doc":"Reference to the CSS template to be used. If missing, the simple background setting template is used.","url":"./lib/css2016.ts/~/specStatus_css_mappings.special_template.html","deprecated":false},{"id":"namespace_specStatus_mapping","kind":[{"char":"I","kind":"Interface","title":"Interface"}],"name":"specStatus_mapping","file":"lib/css2016.ts","doc":"Interface for the mapping from specStatus to its relevant description","url":"./lib/css2016.ts/~/specStatus_mapping.html","deprecated":false},{"id":"namespace_specStatus_simple","kind":[{"char":"v","kind":"Variable","title":"Variable"}],"name":"specStatus_simple","file":"lib/css2016.ts","doc":"specStatus values with a common, 'standard' behavior: distinct logos based on value, no watermark, simple background template","url":"./lib/css2016.ts/~/specStatus_simple.html","deprecated":false},{"id":"namespace_undefined_template","kind":[{"char":"v","kind":"Variable","title":"Variable"}],"name":"undefined_template","file":"lib/css2016.ts","doc":"CSS template for 'undefined' documents; it also has a watermark","url":"./lib/css2016.ts/~/undefined_template.html","deprecated":false},{"id":"namespace_deFontSvg","kind":[{"char":"f","kind":"Function","title":"Function"}],"name":"deFontSvg","file":"lib/defontSvg.ts","doc":"Replace all occurrences of the <font> element in the SVG file by a <span>.Hopefully, this module can be removed, eventually, because draw.io will not generate such diagrams. (Although the module may have to remain after all to ensure backward compatibility…)","url":"./lib/defontSvg.ts/~/deFontSvg.html","deprecated":false},{"id":"namespace_check_Web_url","kind":[{"char":"f","kind":"Function","title":"Function"}],"name":"check_Web_url","file":"lib/fetch.ts","doc":"Basic sanity check on a URL supposed to be used to retrieve a Web Resource.The function returns a (possibly slightly modified) version of the URL if everything is fine, or a null value if the input argument is not a URL (but should be used as a filename).There might be errors, however, in the case it is a URL.The checks are as follows:Check whether the protocol is http(s). Other protocols are not accepted (actually rejected by fetch, too);Run the URL through a valid-url check, which looks at the validity of the URL in terms of characters used, for example;Check that the port (if specified) is in the allowed range, i.e., > 1024;Check whether the host name is not localhost (or equivalents, see [[invalid_host_names]]); this is not allowed, unless the code runs in a client or the environment variable R2EPUB_LOCAL is set.","url":"./lib/fetch.ts/~/check_Web_url.html","deprecated":false},{"id":"namespace_fetch_html","kind":[{"char":"f","kind":"Function","title":"Function"}],"name":"fetch_html","file":"lib/fetch.ts","doc":"Fetch an HTML file via [[fetch_resource]] and parse the result into a DOM instance.","url":"./lib/fetch.ts/~/fetch_html.html","deprecated":false},{"id":"namespace_fetch_json","kind":[{"char":"f","kind":"Function","title":"Function"}],"name":"fetch_json","file":"lib/fetch.ts","doc":"Fetch an JSON file via [[fetch_resource]] and parse the result into an object.","url":"./lib/fetch.ts/~/fetch_json.html","deprecated":false},{"id":"namespace_fetch_resource","kind":[{"char":"f","kind":"Function","title":"Function"}],"name":"fetch_resource","file":"lib/fetch.ts","doc":"Fetch a resource.\"Fetch\" means fetching the resource on the Web. There is one exception, though: some W3C files (e.g., SVG logos) have been modified for EPUB use. These files are also available on the Web (see modified_epub_files) but if the local environment variable R2EPUB_MODIFIED_EPUB_FILES is set, then the value is considered to be the name of a local directory, and the files are picked up from that directory via direct, local file system access. This may speed up and, mainly, avoid some fetch errors that unfortunately occur.(I am not sure why those errors occur, mainly when collections are created. I suspect this may be related to an almost simultaneous access to the same files more or less in parallel via an async call to a Promise array, and the servers may not be properly set up for that.)","url":"./lib/fetch.ts/~/fetch_resource.html","deprecated":false},{"id":"namespace_fetch_type","kind":[{"char":"f","kind":"Function","title":"Function"}],"name":"fetch_type","file":"lib/fetch.ts","doc":"Fetch the media type of the resource.","url":"./lib/fetch.ts/~/fetch_type.html","deprecated":false},{"id":"namespace_homepage","kind":[{"char":"v","kind":"Variable","title":"Variable"}],"name":"homepage","file":"lib/home.ts","doc":"","url":"./lib/home.ts/~/homepage.html","deprecated":false},{"id":"namespace_create_nav_file","kind":[{"char":"f","kind":"Function","title":"Function"}],"name":"create_nav_file","file":"lib/nav.ts","doc":"Create a navigation file, and return the necessary resource (to be added to the overall set of resources).The content of the original TOC element is serialized (using the innerHTML DOM method) and the result is added to a textual HTML template. The only change on the original content is the replacement of the purely fragment URLs in the TOC with a relative URL to Overview.xhtml.","url":"./lib/nav.ts/~/create_nav_file.html","deprecated":false},{"id":"namespace_nav_template","kind":[{"char":"v","kind":"Variable","title":"Variable"}],"name":"nav_template","file":"lib/nav.ts","doc":"Template of the XHTML file","url":"./lib/nav.ts/~/nav_template.html","deprecated":false},{"id":"namespace_OCF","kind":[{"char":"m","kind":"Method","title":"Method"}],"name":"OCF.prototype.append","file":"lib/ocf.ts","doc":"Store a compressed content in the OCF file. The input can be a simple text or a Stream (the relevant archiver function takes care of disambiguation).","url":"./lib/ocf.ts/~/OCF.prototype.append.html","deprecated":false},{"id":"namespace_OCF","kind":[{"char":"m","kind":"Method","title":"Method"}],"name":"OCF.prototype.name","file":"lib/ocf.ts","doc":"Return the name of the final file, as provided at constructor time. This is based on the short name of the document, or the name provided in the configuration file.","url":"./lib/ocf.ts/~/OCF.prototype.name.html","deprecated":false},{"id":"namespace_OCF","kind":[{"char":"m","kind":"Method","title":"Method"}],"name":"OCF.prototype.container","file":"lib/ocf.ts","doc":"Returns the underlying ZIP container; this is used when creating a \"collection\", ie, when the the final content is generated from several zip containers.","url":"./lib/ocf.ts/~/OCF.prototype.container.html","deprecated":false},{"id":"namespace_OCF","kind":[{"char":"m","kind":"Method","title":"Method"}],"name":"OCF.prototype.get_content","file":"lib/ocf.ts","doc":"Return the final content of the book all packed up. If not yet done, the content is generated using the relevant jszip function, packaging all content that has been added.","url":"./lib/ocf.ts/~/OCF.prototype.get_content.html","deprecated":false},{"id":"namespace_OCF","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"OCF.prototype._container","file":"lib/ocf.ts","doc":"","url":"./lib/ocf.ts/~/OCF.prototype._container.html","deprecated":false},{"id":"namespace_OCF","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"OCF.prototype._name","file":"lib/ocf.ts","doc":"","url":"./lib/ocf.ts/~/OCF.prototype._name.html","deprecated":false},{"id":"namespace_OCF","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"OCF.prototype.content","file":"lib/ocf.ts","doc":"","url":"./lib/ocf.ts/~/OCF.prototype.content.html","deprecated":false},{"id":"namespace_container_xml","kind":[{"char":"v","kind":"Variable","title":"Variable"}],"name":"container_xml","file":"lib/ocf.ts","doc":"The content of the required container.xml file (see the EPUB 3.4 specification). The root is set to package.opf at the top level","url":"./lib/ocf.ts/~/container_xml.html","deprecated":false},{"id":"namespace_Collection","kind":[{"char":"I","kind":"Interface","title":"Interface"},{"char":"I","kind":"Interface","title":"Interface"}],"name":"Collection","file":"lib/opf.ts","doc":"Representations of the \"collections\" element","url":"./lib/opf.ts/~/Collection.html","deprecated":false},{"id":"namespace_Collection","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"Collection.@role","file":"lib/opf.ts","doc":"","url":"./lib/opf.ts/~/Collection.@role.html","deprecated":false},{"id":"namespace_Collection","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"Collection.metadata","file":"lib/opf.ts","doc":"","url":"./lib/opf.ts/~/Collection.metadata.html","deprecated":false},{"id":"namespace_Collection","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"Collection.link","file":"lib/opf.ts","doc":"","url":"./lib/opf.ts/~/Collection.link.html","deprecated":false},{"id":"namespace_CollectionMetadata","kind":[{"char":"I","kind":"Interface","title":"Interface"}],"name":"CollectionMetadata","file":"lib/opf.ts","doc":"The minimal metadata, used in collections","url":"./lib/opf.ts/~/CollectionMetadata.html","deprecated":false},{"id":"namespace_CollectionMetadata","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"CollectionMetadata.dc:identifier","file":"lib/opf.ts","doc":"","url":"./lib/opf.ts/~/CollectionMetadata.dc:identifier.html","deprecated":false},{"id":"namespace_CollectionMetadata","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"CollectionMetadata.dc:title","file":"lib/opf.ts","doc":"","url":"./lib/opf.ts/~/CollectionMetadata.dc:title.html","deprecated":false},{"id":"namespace_CollectionMetadata","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"CollectionMetadata.dc:language","file":"lib/opf.ts","doc":"","url":"./lib/opf.ts/~/CollectionMetadata.dc:language.html","deprecated":false},{"id":"namespace_Creator","kind":[{"char":"I","kind":"Interface","title":"Interface"}],"name":"Creator","file":"lib/opf.ts","doc":"","url":"./lib/opf.ts/~/Creator.html","deprecated":false},{"id":"namespace_Creator","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"Creator.@id","file":"lib/opf.ts","doc":"","url":"./lib/opf.ts/~/Creator.@id.html","deprecated":false},{"id":"namespace_Creator","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"Creator.@role","file":"lib/opf.ts","doc":"","url":"./lib/opf.ts/~/Creator.@role.html","deprecated":false},{"id":"namespace_Creator","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"Creator.#","file":"lib/opf.ts","doc":"","url":"./lib/opf.ts/~/Creator.#.html","deprecated":false},{"id":"namespace_DCIdentifier","kind":[{"char":"I","kind":"Interface","title":"Interface"}],"name":"DCIdentifier","file":"lib/opf.ts","doc":"","url":"./lib/opf.ts/~/DCIdentifier.html","deprecated":false},{"id":"namespace_DCIdentifier","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"DCIdentifier.@id","file":"lib/opf.ts","doc":"","url":"./lib/opf.ts/~/DCIdentifier.@id.html","deprecated":false},{"id":"namespace_DCIdentifier","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"DCIdentifier.#","file":"lib/opf.ts","doc":"","url":"./lib/opf.ts/~/DCIdentifier.#.html","deprecated":false},{"id":"namespace_DCLang","kind":[{"char":"I","kind":"Interface","title":"Interface"}],"name":"DCLang","file":"lib/opf.ts","doc":"","url":"./lib/opf.ts/~/DCLang.html","deprecated":false},{"id":"namespace_DCLang","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"DCLang.@id","file":"lib/opf.ts","doc":"","url":"./lib/opf.ts/~/DCLang.@id.html","deprecated":false},{"id":"namespace_DCLang","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"DCLang.#","file":"lib/opf.ts","doc":"","url":"./lib/opf.ts/~/DCLang.#.html","deprecated":false},{"id":"namespace_DCTitle","kind":[{"char":"I","kind":"Interface","title":"Interface"}],"name":"DCTitle","file":"lib/opf.ts","doc":"","url":"./lib/opf.ts/~/DCTitle.html","deprecated":false},{"id":"namespace_DCTitle","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"DCTitle.@id","file":"lib/opf.ts","doc":"","url":"./lib/opf.ts/~/DCTitle.@id.html","deprecated":false},{"id":"namespace_DCTitle","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"DCTitle.@dir","file":"lib/opf.ts","doc":"","url":"./lib/opf.ts/~/DCTitle.@dir.html","deprecated":false},{"id":"namespace_DCTitle","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"DCTitle.@xml:lang","file":"lib/opf.ts","doc":"","url":"./lib/opf.ts/~/DCTitle.@xml:lang.html","deprecated":false},{"id":"namespace_DCTitle","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"DCTitle.#","file":"lib/opf.ts","doc":"","url":"./lib/opf.ts/~/DCTitle.#.html","deprecated":false},{"id":"namespace_Link","kind":[{"char":"I","kind":"Interface","title":"Interface"}],"name":"Link","file":"lib/opf.ts","doc":"The \"link\" element content, as define in the spec. @rel is optional, because it is also used for OPF collections, and @rel is indeed optional in that context.","url":"./lib/opf.ts/~/Link.html","deprecated":false},{"id":"namespace_Link","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"Link.@rel","file":"lib/opf.ts","doc":"","url":"./lib/opf.ts/~/Link.@rel.html","deprecated":false},{"id":"namespace_Link","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"Link.@href","file":"lib/opf.ts","doc":"","url":"./lib/opf.ts/~/Link.@href.html","deprecated":false},{"id":"namespace_Link","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"Link.@id","file":"lib/opf.ts","doc":"","url":"./lib/opf.ts/~/Link.@id.html","deprecated":false},{"id":"namespace_Link","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"Link.@media-type","file":"lib/opf.ts","doc":"","url":"./lib/opf.ts/~/Link.@media-type.html","deprecated":false},{"id":"namespace_Link","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"Link.@properties","file":"lib/opf.ts","doc":"","url":"./lib/opf.ts/~/Link.@properties.html","deprecated":false},{"id":"namespace_Link","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"Link.@refines","file":"lib/opf.ts","doc":"","url":"./lib/opf.ts/~/Link.@refines.html","deprecated":false},{"id":"namespace_Manifest","kind":[{"char":"I","kind":"Interface","title":"Interface"}],"name":"Manifest","file":"lib/opf.ts","doc":"Representation of the \"manifest\" element.","url":"./lib/opf.ts/~/Manifest.html","deprecated":false},{"id":"namespace_Manifest","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"Manifest.item","file":"lib/opf.ts","doc":"","url":"./lib/opf.ts/~/Manifest.item.html","deprecated":false},{"id":"namespace_ManifestItem","kind":[{"char":"I","kind":"Interface","title":"Interface"},{"char":"I","kind":"Interface","title":"Interface"}],"name":"ManifestItem","file":"lib/opf.ts","doc":"","url":"./lib/opf.ts/~/ManifestItem.html","deprecated":false},{"id":"namespace_ManifestItem","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"ManifestItem.@href","file":"lib/opf.ts","doc":"","url":"./lib/opf.ts/~/ManifestItem.@href.html","deprecated":false},{"id":"namespace_ManifestItem","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"ManifestItem.@id","file":"lib/opf.ts","doc":"","url":"./lib/opf.ts/~/ManifestItem.@id.html","deprecated":false},{"id":"namespace_ManifestItem","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"ManifestItem.@media-type","file":"lib/opf.ts","doc":"","url":"./lib/opf.ts/~/ManifestItem.@media-type.html","deprecated":false},{"id":"namespace_ManifestItem","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"ManifestItem.@properties","file":"lib/opf.ts","doc":"","url":"./lib/opf.ts/~/ManifestItem.@properties.html","deprecated":false},{"id":"namespace_ManifestItem","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"ManifestItem.@media-overlay","file":"lib/opf.ts","doc":"","url":"./lib/opf.ts/~/ManifestItem.@media-overlay.html","deprecated":false},{"id":"namespace_Meta","kind":[{"char":"I","kind":"Interface","title":"Interface"}],"name":"Meta","file":"lib/opf.ts","doc":"The \"meta\" element content, as defined in the spec.","url":"./lib/opf.ts/~/Meta.html","deprecated":false},{"id":"namespace_Meta","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"Meta.@property","file":"lib/opf.ts","doc":"","url":"./lib/opf.ts/~/Meta.@property.html","deprecated":false},{"id":"namespace_Meta","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"Meta.@id","file":"lib/opf.ts","doc":"","url":"./lib/opf.ts/~/Meta.@id.html","deprecated":false},{"id":"namespace_Meta","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"Meta.@dir","file":"lib/opf.ts","doc":"","url":"./lib/opf.ts/~/Meta.@dir.html","deprecated":false},{"id":"namespace_Meta","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"Meta.@refines","file":"lib/opf.ts","doc":"","url":"./lib/opf.ts/~/Meta.@refines.html","deprecated":false},{"id":"namespace_Meta","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"Meta.@scheme","file":"lib/opf.ts","doc":"","url":"./lib/opf.ts/~/Meta.@scheme.html","deprecated":false},{"id":"namespace_Meta","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"Meta.@xml:lang","file":"lib/opf.ts","doc":"","url":"./lib/opf.ts/~/Meta.@xml:lang.html","deprecated":false},{"id":"namespace_Meta","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"Meta.#","file":"lib/opf.ts","doc":"","url":"./lib/opf.ts/~/Meta.#.html","deprecated":false},{"id":"namespace_Metadata","kind":[{"char":"I","kind":"Interface","title":"Interface"}],"name":"Metadata","file":"lib/opf.ts","doc":"The minimal metadata, used by the TR documents.","url":"./lib/opf.ts/~/Metadata.html","deprecated":false},{"id":"namespace_Metadata","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"Metadata.dc:identifier","file":"lib/opf.ts","doc":"","url":"./lib/opf.ts/~/Metadata.dc:identifier.html","deprecated":false},{"id":"namespace_Metadata","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"Metadata.dc:title","file":"lib/opf.ts","doc":"","url":"./lib/opf.ts/~/Metadata.dc:title.html","deprecated":false},{"id":"namespace_Metadata","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"Metadata.dc:language","file":"lib/opf.ts","doc":"","url":"./lib/opf.ts/~/Metadata.dc:language.html","deprecated":false},{"id":"namespace_Metadata","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"Metadata.meta","file":"lib/opf.ts","doc":"","url":"./lib/opf.ts/~/Metadata.meta.html","deprecated":false},{"id":"namespace_Metadata","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"Metadata.link","file":"lib/opf.ts","doc":"","url":"./lib/opf.ts/~/Metadata.link.html","deprecated":false},{"id":"namespace_Metadata","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"Metadata.dc:creator","file":"lib/opf.ts","doc":"","url":"./lib/opf.ts/~/Metadata.dc:creator.html","deprecated":false},{"id":"namespace_Package","kind":[{"char":"I","kind":"Interface","title":"Interface"}],"name":"Package","file":"lib/opf.ts","doc":"Encoding of the XML structure of the package file in JSON; simply a wrapper around [[PackageContent]].(Strictly speaking, from a Typescript point of view, this is interface would not be necessary; however, by defining it this way the XML representation can be easily generated.)","url":"./lib/opf.ts/~/Package.html","deprecated":false},{"id":"namespace_Package","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"Package.package","file":"lib/opf.ts","doc":"","url":"./lib/opf.ts/~/Package.package.html","deprecated":false},{"id":"namespace_PackageContent","kind":[{"char":"I","kind":"Interface","title":"Interface"}],"name":"PackageContent","file":"lib/opf.ts","doc":"Encoding of the XML structure of the package file, as defined in the EPUB specification, in JSON.","url":"./lib/opf.ts/~/PackageContent.html","deprecated":false},{"id":"namespace_PackageContent","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"PackageContent.@xmlns","file":"lib/opf.ts","doc":"","url":"./lib/opf.ts/~/PackageContent.@xmlns.html","deprecated":false},{"id":"namespace_PackageContent","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"PackageContent.@unique-identifier","file":"lib/opf.ts","doc":"","url":"./lib/opf.ts/~/PackageContent.@unique-identifier.html","deprecated":false},{"id":"namespace_PackageContent","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"PackageContent.@version","file":"lib/opf.ts","doc":"","url":"./lib/opf.ts/~/PackageContent.@version.html","deprecated":false},{"id":"namespace_PackageContent","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"PackageContent.@xmlns:dc","file":"lib/opf.ts","doc":"","url":"./lib/opf.ts/~/PackageContent.@xmlns:dc.html","deprecated":false},{"id":"namespace_PackageContent","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"PackageContent.@prefix","file":"lib/opf.ts","doc":"","url":"./lib/opf.ts/~/PackageContent.@prefix.html","deprecated":false},{"id":"namespace_PackageContent","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"PackageContent.@dir","file":"lib/opf.ts","doc":"","url":"./lib/opf.ts/~/PackageContent.@dir.html","deprecated":false},{"id":"namespace_PackageContent","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"PackageContent.@id","file":"lib/opf.ts","doc":"","url":"./lib/opf.ts/~/PackageContent.@id.html","deprecated":false},{"id":"namespace_PackageContent","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"PackageContent.@xml:lang","file":"lib/opf.ts","doc":"","url":"./lib/opf.ts/~/PackageContent.@xml:lang.html","deprecated":false},{"id":"namespace_PackageContent","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"PackageContent.metadata","file":"lib/opf.ts","doc":"","url":"./lib/opf.ts/~/PackageContent.metadata.html","deprecated":false},{"id":"namespace_PackageContent","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"PackageContent.manifest","file":"lib/opf.ts","doc":"","url":"./lib/opf.ts/~/PackageContent.manifest.html","deprecated":false},{"id":"namespace_PackageContent","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"PackageContent.spine","file":"lib/opf.ts","doc":"","url":"./lib/opf.ts/~/PackageContent.spine.html","deprecated":false},{"id":"namespace_PackageContent","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"PackageContent.collection","file":"lib/opf.ts","doc":"","url":"./lib/opf.ts/~/PackageContent.collection.html","deprecated":false},{"id":"namespace_PackageWrapper","kind":[{"char":"c","kind":"Class","title":"Class"}],"name":"PackageWrapper","file":"lib/opf.ts","doc":"The OPF WrapperWrapper around the internal representation of a EPUB3 Package document, as defined in the EPUB 3 SpecificationThe module relies on the xmlbuilder2 package, which generates an XML file out of a set of JS objects. See the documentation of that library for the details; the short overview is:JSON names starting with \"@\"\" represent an attribute.JSON name \"#\"\" represent textual content of the element.Otherwise a JSON name refers to an embedded dictionary representing a sub-element in XML.The type hierarchy to represent an OPF file through such objects is defined through [[Package]]. Those types and default values do not reflect all possibilities of Package documents, only those that are relevant for W3C Technical reports.","url":"./lib/opf.ts/~/PackageWrapper.html","deprecated":false},{"id":"namespace_PackageWrapper","kind":[{"char":"m","kind":"Method","title":"Method"}],"name":"PackageWrapper.prototype.add_manifest_item","file":"lib/opf.ts","doc":"Add a manifest item, i.e., the reference to a resource that is part of the publication.","url":"./lib/opf.ts/~/PackageWrapper.prototype.add_manifest_item.html","deprecated":false},{"id":"namespace_PackageWrapper","kind":[{"char":"m","kind":"Method","title":"Method"}],"name":"PackageWrapper.prototype.add_wcag_link","file":"lib/opf.ts","doc":"Add an A11y link to WCAG A, to specify that the document conforms to this level","url":"./lib/opf.ts/~/PackageWrapper.prototype.add_wcag_link.html","deprecated":false},{"id":"namespace_PackageWrapper","kind":[{"char":"m","kind":"Method","title":"Method"}],"name":"PackageWrapper.prototype.add_spine_item","file":"lib/opf.ts","doc":"Add a spine item, i.e., the reference to the resource in the manifest that is a constituent of the spite (i.e., reading order) of the book","url":"./lib/opf.ts/~/PackageWrapper.prototype.add_spine_item.html","deprecated":false},{"id":"namespace_PackageWrapper","kind":[{"char":"m","kind":"Method","title":"Method"}],"name":"PackageWrapper.prototype.add_creators","file":"lib/opf.ts","doc":"Add a list of creators (authors) to the publication.","url":"./lib/opf.ts/~/PackageWrapper.prototype.add_creators.html","deprecated":false},{"id":"namespace_PackageWrapper","kind":[{"char":"m","kind":"Method","title":"Method"}],"name":"PackageWrapper.prototype.add_collection","file":"lib/opf.ts","doc":"Add a new OPF collection. This is used when the final EPUB is itself a collection of parts; each collection in the OPF sense collects the constituents of a specific part.","url":"./lib/opf.ts/~/PackageWrapper.prototype.add_collection.html","deprecated":false},{"id":"namespace_PackageWrapper","kind":[{"char":"m","kind":"Method","title":"Method"}],"name":"PackageWrapper.prototype.add_dates","file":"lib/opf.ts","doc":"Set the date and the modification date of the publication.","url":"./lib/opf.ts/~/PackageWrapper.prototype.add_dates.html","deprecated":false},{"id":"namespace_PackageWrapper","kind":[{"char":"m","kind":"Method","title":"Method"}],"name":"PackageWrapper.prototype.add_a11y_feature","file":"lib/opf.ts","doc":"Add accessibility feature strings to the metadata","url":"./lib/opf.ts/~/PackageWrapper.prototype.add_a11y_feature.html","deprecated":false},{"id":"namespace_PackageWrapper","kind":[{"char":"m","kind":"Method","title":"Method"}],"name":"PackageWrapper.prototype.serialize","file":"lib/opf.ts","doc":"Serialize the Package document into (pretty printed) XML.","url":"./lib/opf.ts/~/PackageWrapper.prototype.serialize.html","deprecated":false},{"id":"namespace_PackageWrapper","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"PackageWrapper.prototype.thePackage","file":"lib/opf.ts","doc":"The Package document content itself, stored in a JSON object for an easier manipulation","url":"./lib/opf.ts/~/PackageWrapper.prototype.thePackage.html","deprecated":false},{"id":"namespace_PackageWrapper","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"PackageWrapper.prototype.id","file":"lib/opf.ts","doc":"Id generated to the editors for cross reference","url":"./lib/opf.ts/~/PackageWrapper.prototype.id.html","deprecated":false},{"id":"namespace_Spine","kind":[{"char":"I","kind":"Interface","title":"Interface"}],"name":"Spine","file":"lib/opf.ts","doc":"Representation of the \"spine\" element.","url":"./lib/opf.ts/~/Spine.html","deprecated":false},{"id":"namespace_Spine","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"Spine.itemref","file":"lib/opf.ts","doc":"","url":"./lib/opf.ts/~/Spine.itemref.html","deprecated":false},{"id":"namespace_SpineItem","kind":[{"char":"I","kind":"Interface","title":"Interface"}],"name":"SpineItem","file":"lib/opf.ts","doc":"A single spine item","url":"./lib/opf.ts/~/SpineItem.html","deprecated":false},{"id":"namespace_SpineItem","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"SpineItem.@idref","file":"lib/opf.ts","doc":"","url":"./lib/opf.ts/~/SpineItem.@idref.html","deprecated":false},{"id":"namespace_SpineItem","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"SpineItem.@id","file":"lib/opf.ts","doc":"","url":"./lib/opf.ts/~/SpineItem.@id.html","deprecated":false},{"id":"namespace_SpineItem","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"SpineItem.@linear","file":"lib/opf.ts","doc":"","url":"./lib/opf.ts/~/SpineItem.@linear.html","deprecated":false},{"id":"namespace_SpineItem","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"SpineItem.@properties","file":"lib/opf.ts","doc":"","url":"./lib/opf.ts/~/SpineItem.@properties.html","deprecated":false},{"id":"namespace_generate_overview_item","kind":[{"char":"f","kind":"Function","title":"Function"}],"name":"generate_overview_item","file":"lib/overview.ts","doc":"Generate the resource entry for the Overview.xhtml item into the package; that includes setting the various manifest item properties (see manifest item properties).The following properties are set, if applicable:mathml: there is an explicit usage of mathml.scripted: there are active scripts.svg: there is explicit svg usage.remote-resources: there are remote resources, typically video, audio, or images.The function also modifies the DOM tree by introducing a <main> element right as a child of body, and adding the fixed toc-inline class to ensure that the body occupies the whole width of the viewport.","url":"./lib/overview.ts/~/generate_overview_item.html","deprecated":false},{"id":"namespace_create_title_page","kind":[{"char":"f","kind":"Function","title":"Function"},{"char":"f","kind":"Function","title":"Function"}],"name":"create_title_page","file":"lib/title.ts","doc":"Create the cover page: it is an XHTML file with title, editors, copyright information, and a disclaimer whereby the EPUB version of the document is not authoritative.","url":"./lib/title.ts/~/create_title_page.html","deprecated":false},{"id":"namespace_title_page","kind":[{"char":"v","kind":"Variable","title":"Variable"},{"char":"v","kind":"Variable","title":"Variable"}],"name":"title_page","file":"lib/title.ts","doc":"The template to be used for the title page.","url":"./lib/title.ts/~/title_page.html","deprecated":false},{"id":"namespace_date_to_string","kind":[{"char":"f","kind":"Function","title":"Function"}],"name":"date_to_string","file":"lib/utils.ts","doc":"Convert an ISO formatted date to a more readable format.","url":"./lib/utils.ts/~/date_to_string.html","deprecated":false},{"id":"namespace_de_xml","kind":[{"char":"f","kind":"Function","title":"Function"}],"name":"de_xml","file":"lib/utils.ts","doc":"Remove any XML/HTML tags from the input; <br/> tags are replaced by space and all other tags are removed.Used when the title may include XML tags but the metadata item should not...","url":"./lib/utils.ts/~/de_xml.html","deprecated":false},{"id":"namespace_months","kind":[{"char":"v","kind":"Variable","title":"Variable"}],"name":"months","file":"lib/utils.ts","doc":"","url":"./lib/utils.ts/~/months.html","deprecated":false},{"id":"namespace_remove_entities","kind":[{"char":"f","kind":"Function","title":"Function"}],"name":"remove_entities","file":"lib/utils.ts","doc":"Filter XML entities in an xhtml code, and turn them into their equivalent hexadecimal Unicode point","url":"./lib/utils.ts/~/remove_entities.html","deprecated":false},{"id":"namespace_slice_text","kind":[{"char":"f","kind":"Function","title":"Function"}],"name":"slice_text","file":"lib/utils.ts","doc":"“Slice” a long text into lines separated by the (HTML) <br/> tag. Used as a rudimentary tool when adding the title lines to an SVG content.Note that if the incoming string includes the <br/> tag already, the function returns the text unchanged. This allows the end-user to control the input, if required.","url":"./lib/utils.ts/~/slice_text.html","deprecated":false},{"id":"namespace_to_xhtml","kind":[{"char":"f","kind":"Function","title":"Function"}],"name":"to_xhtml","file":"lib/utils.ts","doc":"Convert an HTML5 content (in text or as a DOM) into XHTML5.","url":"./lib/utils.ts/~/to_xhtml.html","deprecated":false},{"id":"namespace_Args","kind":[{"char":"T","kind":"TypeAlias","title":"Type Alias"}],"name":"Args","file":"serve","doc":"","url":"./serve/~/Args.html","deprecated":false},{"id":"namespace_Content","kind":[{"char":"I","kind":"Interface","title":"Interface"}],"name":"Content","file":"serve","doc":"Return type of [[get_epub]] (to be handled by the server);","url":"./serve/~/Content.html","deprecated":false},{"id":"namespace_Content","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"Content.content","file":"serve","doc":"The real epub content: a Buffer as generated through the [[OCF]] class.","url":"./serve/~/Content.content.html","deprecated":false},{"id":"namespace_Content","kind":[{"char":"p","kind":"Property","title":"Property"}],"name":"Content.headers","file":"serve","doc":"Additional HTTP Response headers, to accompany the full response. (File name, dates, etc.).","url":"./serve/~/Content.headers.html","deprecated":false},{"id":"namespace_Query","kind":[{"char":"I","kind":"Interface","title":"Interface"}],"name":"Query","file":"serve","doc":"","url":"./serve/~/Query.html","deprecated":false},{"id":"namespace_get_epub","kind":[{"char":"f","kind":"Function","title":"Function"}],"name":"get_epub","file":"serve","doc":"Generate the EPUB file. This is a wrapper around [[create_epub]], creating the necessary arguments [[Options]] structure based on the incoming URL's query string.","url":"./serve/~/get_epub.html","deprecated":false},{"id":"namespace_serve","kind":[{"char":"f","kind":"Function","title":"Function"}],"name":"serve","file":"serve","doc":"Run a rudimentary Web server calling out to [[convert]] via [[get_epub]] to return an EPUB 3.4 instance when invoked. If there is no proper query string a fixed page is displayed.This function is automatically started when this module is used from a command line.","url":"./serve/~/serve.html","deprecated":false}]};
})()